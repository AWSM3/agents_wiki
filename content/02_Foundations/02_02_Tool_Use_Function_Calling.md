# 2.2. Tool‑use / function calling / structured output — что это и зачем

- **Last reviewed**: 2026-01-15
- **Уровень**: Basic → Advanced

## Зачем эта страница

Чтобы различать “чат‑ответ” и “агентное действие” и правильно ставить ограничения: что агент может делать сам, а что — только после подтверждения.

## Ключевые понятия

- **Tool‑use**: модель вызывает инструменты (поиск по репо, чтение файлов, терминал, применение патчей).
- **Function calling**: формализованный вариант tool‑use (структурированные вызовы функций).
- **Structured output**: ответ в строгом формате (таблица/JSON‑схема/чек‑лист), чтобы его можно было проверять.

## Когда использовать

- **Tool‑use**: когда нужно “приземлиться” на код/логи/файлы, а не рассуждать абстрактно.
- **Structured output**: когда вы хотите повторяемость (например, отчёт PR‑ревью по рубрике).

## Минимальные guardrails (рекомендовано по умолчанию)

- **Сначала план** (для A2+ задач).
- **STOP‑POINT** перед:
  - массовыми правками (много файлов),
  - запуском команд,
  - любыми интеграционными действиями (push/merge/deploy).
- **Минимальный diff**: менять только то, что относится к задаче.
- **Запрет чувствительного контекста** (см. [1.3](../01_Start_Here/01_03_Data_Policy_Short.md)).

## Шаблон “контроль тулинга” (копипаст)

> Используй tools только чтобы: (1) найти релевантные файлы, (2) предложить патч.  
> НЕ запускай команды и НЕ меняй конфиги/CI без моего подтверждения.  
> Перед любыми изменениями дай план + список файлов + риски + тест‑план.  
> После плана дождись моего “OK”.

## Связанные страницы

- [4.4 Управление контекстом](../04_Standard_Workflow/04_04_Context_Management.md)
- [6.2 Threat model для coding‑агентов](../06_Security_Compliance/06_02_Threat_Model.md)
- [10.4 Уровни автономности (A0–A4)](../10_Appendix/Liners_and_Rubrics/10_04_Autonomy_Levels_A0_A4.md)

