# 2.3. RAG и работа с внутренними знаниями (в т.ч. через MCP)

- **Last reviewed**: 2026-01-15
- **Уровень**: Advanced (core) / Basic (понимание)

## Зачем эта страница

Чтобы агент отвечал не “из головы”, а приземлялся на ваши источники истины (репо/Confluence/тикеты/ADR), при этом не нарушая политику данных.

## Ключевые понятия

- **RAG (Retrieval‑Augmented Generation)**: “найти релевантное в источниках → сгенерировать ответ”.
- **Indexing (индексация)**: подготовка контента для поиска (разбиение, эмбеддинги, метаданные).
- **MCP**: стандарт подключения инструментов/источников данных к ассистенту (read‑only коннекторы, actions).

## Когда использовать / когда НЕ использовать

Использовать, если:

- у команды много внутренних регламентов и шаблонов
- агент часто “не попадает” в архитектуру/стиль
- нужен быстрый онбординг по внутренним правилам

Не использовать напрямую (или только локально/on‑prem), если:

- источники содержат D2/D3 контент без безопасного контура
- невозможно обеспечить least privilege и аудит обращений

## Минимальный безопасный дизайн (чек‑лист)

- **Read‑only по умолчанию** для коннекторов (Confluence/GitLab/Logs).
- **Allowlist** серверов/инструментов.
- **Scopes** (least privilege) и ротация токенов.
- **Редакция**: PII/секреты/внутренние hostnames должны вычищаться до попадания в контекст.
- **Аудит**: кто/когда/что запросил у MCP/RAG.

## Связанные страницы

- [3.5 MCP: что это, где применять, безопасность](../03_Tooling/03_05_MCP.md)
- [6.1 Политика данных и NDA](../06_Security_Compliance/06_01_Data_Policy_Full.md)
- [7.3 MCP‑серверы для внутренних систем](../07_Enterprise_Integration/07_03_MCP_for_Internal_Systems.md)

