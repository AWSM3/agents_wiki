# 7.2. Агент в CI (безопасно): “agent‑runner” pipeline pattern

- **Last reviewed**: 2026-01-15
- **Уровень**: Advanced

## Зачем эта страница

Если агент работает в CI, он должен быть максимально изолирован и приносить **артефакты для ревью**, а не делать “интеграционные действия” сам.

## Режим “CI‑агент” (паттерн)

- изолированный runner
- ограниченные секреты (least privilege)
- сеть по allowlist (если нужна)
- агент генерит **patch + отчёт**, не пушит в main

## Артефакты пайплайна (рекомендация)

- `agent_report.md` (что сделал, что не смог, какие предположения)
- `diff.patch` (патч)
- результаты тестов/линтов/сборки

## Политика безопасности

- агент **не** делает push/merge/deploy
- изменения в security/db/auth/CI — только через MR и code owners
- аудит доступа к секретам и интеграциям

## Связанные страницы

- [6.5 Advanced guardrails](../Безопасность_Соответствие/Продвинутые_Ограничения.md)
- [10.4.A Уровни автономности](../Приложения/Руководства_и_Критерии_оценки/Уровни_автономности_A0_A4.md)

