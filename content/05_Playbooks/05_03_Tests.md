# 5.3. Playbook: тесты (unit / integration / contract)

- **Owner**: QA / DevEx (TBD)
- **Статус**: Draft
- **Last reviewed**: 2026-01-15
- **Уровень**: Basic
- **Для ролей**: Dev / QA / TL

## Когда применять

- фикс бага (обязательно: тест на регрессию)
- новая фича (минимум: юнит‑тесты на ключевые AC)

## Input

- AC/инварианты
- список затронутых функций/модулей
- окружение тестов (команды запуска)

## Output

- тесты, которые реально ловят регресс
- команды verify

## Process

1. Попросить агента сначала перечислить тест‑кейсы по AC.
2. Выбрать типы тестов: unit → integration → contract (по риску).
3. Сгенерировать тесты.
4. Verify: прогнать тесты и исправить падения.

## Safety

- агент пишет тесты, но **границы утверждает человек**
- запрещены “фиктивные” тесты (см. [10.4.S](../10_Appendix/Liners_and_Rubrics/10_04_Failure_Taxonomy_Severity.md))

## Template prompt

> На основе AC предложи список тест‑кейсов.  
> Затем напиши юнит‑тесты (и 1 интеграционный, если нужно).  
> После — команды verify + ожидаемый результат.

## Done criteria

- тесты проходят
- тесты проверяют ключевые AC/инварианты

## Pitfalls

- тест “проверяет, что тест проходит”
- тесты завязаны на реальные секреты/PII

